<html>
	<head>
		<title>Contact Us</title>
		<!-- <script src="contact.js"></script> -->
	</head>
	<body>
		<table width="80%" align="center">
			<tr>
				<td><img src="images/html5.png" width="50px"></td>
				<td align="right">
					<span id="home_display"></span>
					<a href="">About</a>
					<a href="">Product</a>
					<a href="">Gallery</a>
					<span id="contact_display"></span>
				</td>
			</tr>
		</table>
		<hr/>
		<table align="center" width="80%">
			<tr>
				<td>
					<img src="images/contact.jpg" alt="contact_page image" width="100%"/>
				</td>
			</tr>
			<tr>
				<td align="center">
					<form name="contact_form" action="" method="POST" onSubmit="return validate_form()">
						<table width="50%">
							<tr>
								<td>Name</td>
								<td>
									<input type="text" name="person_name" onkeypress="validateName(this)" />
								</td>
							</tr>
							<tr>
								<td>Email</td> 
								<td>
									<input type="text" name="Email">
								</td>
							</tr>
							<tr>
								<td>City </td>
								<td>
									<select name="select_city" onChange="display()" onFocus="this.selectedIndex=-1">
										<option>--Select--</option>
										<option>Jaipur</option>
										<option>Agra</option>
										<option>Mathura</option>
										<option>Nagpur</option>
									</select>
								</td>
							</tr>
							<tr>
								<td>City Description</td>
								<td>
									<textarea id="city_description" style="display: none;" readonly></textarea>
								</td>
							</tr>							
							<tr>
								<td>Organization<br/>name</td>
								<td>
									<input type="text" name="organization_name">
								</td>
							</tr> 
							<tr>
								<td>Contact<br/>Number</td>
								<td>
									<input type="text" name="contact_Number">
								</td>
							</tr>
							<tr>
								<td>Message</td>
								<td>
									<textarea name="message-box" onChange="limitText(this,250) "></textarea>
								</td>
							</tr>
							<tr>
								<td>
									<input type="submit" name="submit" value="submit">
								</td>
							</tr>
						</table>
					</form>
				</td>
			</tr>
		</table>
		<hr/>
		<footer align="center"><label >&copy;CopyRight 2016-17 | All Rights Reserved | Metacube Training</label></footer>
		<SCRIPT> 
			var contact = document.getElementById("contact_display"); //Get span
			a_contact = document.createElement('a');
			a_contact.href =  'ContactUs.html'; 
			a_contact.textContent = 'Contact Us'; // <a>INNER_TEXT</a>
			contact.appendChild(a_contact); // Append the link to the span
			
			var home = document.getElementById("home_display");
			a_home = document.createElement('a');
			a_home.href =  'index.html'; 
			a_home.textContent = 'Home'; // <a>INNER_TEXT</a>
			home.appendChild(a_home); // Append the link to the span
			
			
			function validate_form(){
	var list_of_errors = [];
	var count = 0;	
	var name = document.contact_form.person_name.value;
	var email = document.contact_form.Email.value;
	var phone = document.contact_form.contact_Number.value;
	var organization = document.contact_form.organization_name.value;
	var city_option = document.contact_form.select_city.value;
	
	//name validation
	if(name==null || name==""){
		list_of_errors[count++] = 'Error '+(count)+' :Name Field is empty.';
		document.contact_form.person_name.focus();
		//alert("Name is invalid..");
		//alert('Name Field is empty.');
		//return false;
	}
	// check length of name
	if(name.length > 20 ){
	//alert("Name field cannot extend 20 characters");
	list_of_errors[count++] = 'Error '+(count)+' :Name cannot have more than 20 characters';
	document.contact_form.person_name.focus();
	}

	var re_for_name = /^[A-Za-z ]+$/;
	if(!re_for_name.test(name)) {
		list_of_errors[count++] = 'Error '+(count)+' :Name contains invalid characters!';
		document.contact_form.person_name.focus();
		//alert("Error: Name contains invalid characters!");
		//document.getElementById('person_name').focus();
		//alert('Error: Name contains invalid characters!');
		//return false;
	}

	//email validation
	var atposition=email.indexOf("@");  
	var dotposition=email.lastIndexOf(".");  
	if (atposition<1 || dotposition<atposition+2 || dotposition+2>=email.length){
		list_of_errors[count++] = 'Error '+(count)+' :Enter a valid e-mail address.';
		document.contact_form.Email.focus();
		//alert("Please enter a valid e-mail address \n atpostion:"+atposition+"\n dotposition:"+dotposition);    
	} 

	//organization validation
	var re_for_org = /^[a-zA-Z ]+$/;
	if(!re_for_org.test(organization) || organization =="" || organization == null){
		list_of_errors[count++] = 'Error '+(count)+' :Organization name should be in character format only.';	
		document.contact_form.organization_name.focus();
	}
	
	//contact number validation
	var re_for_number = /^\d{10}$/;	
	if(!re_for_number.test(phone) || phone =="" || phone == null){
		list_of_errors[count++] = 'Error '+(count)+' :Contact Number should be valid.';
		document.contact_form.contact_Number.focus();	
	}
	
	if (list_of_errors.length != 0) {
		var str = 'Total Errors: '+list_of_errors.length+'\n';
		for (i = 0; i < list_of_errors.length; i++) { 
			str += list_of_errors[i] + '\n';
		}
		alert(str);
		return false;
	} 
}

function limitText(ref,iLength) {
	if(ref.value.length > iLength) {
		alert("Text length cannot be greater than " + iLength + " characters\
			Current length is: " + ref.value.length);
		ref.focus();
		return false;
  }
}

function display(){
	var text = document.contact_form.select_city.value;
	var textarea = document.getElementById('city_description');
	if(text!="--Select--"){
		textarea.style.display = 'block';
		textarea.value = 'You have chosen: '+ text;
	}else{
		textarea.style.display = 'none';
	}
}
		</SCRIPT>
	</body>
</html>
